title: >-
  Walleye Thermal Optical Habitat Area (TOHA) of selected Minnesota lakes: 7 thermal and optical habitat estimates

abstract: >-
  Climate change has been shown to influence lake temperatures in different ways. To better understand the diversity
  of lake responses to climate change and give managers tools to manage individual lakes, we focused on improving
  prediction accuracy for daily water temperature profiles in 881 lakes in Minnesota and Wisconsin during 1980-2019.

authors: [
  "Jordan S. Read", "Alison P. Appling", "Kelsey Vitense", "Samantha K. Oliver",
  "Lindsay Platt", "Gretchen J.A. Hansen", "Hayley Corson-Dosch"]
pubdate: 2020 # replace with actual year, e.g., 2020
doi: https://doi.org/YY.XXXXX/XXXXXX # replace with actual DOI

build-environment: Multiple computer systems were used to generate these data, including linux, OSX. The open source languages R and Python were used on all systems.

# ----associated publication----
larger-cites:
  -
    authors: ["Jordan S. Read", "Xiaowei Jia", "Jared Willard", "Alison P. Appling", "Jacob A. Zwart","Samantha K. Oliver","Anuj Karpatne","Gretchen J.A. Hansen", "Paul C. Hanson", "William Watkins", "Michael Steinbach","Vipin Kumar"]
    title: >-
      Process-guided deep learning predictions of lake water temperature
    pubdate: 2019

# ----supporting publications----
cross-cites:
  -
    authors: ['Luke A. Winslow','Gretchen J.A. Hansen','Jordan S. Read','Michael Notaro']
    title: >-
      Large-scale modeled contemporary and future water temperature estimates for 10,774 Midwestern U.S. Lakes
    pubdate: 2017
    link: http://dx.doi.org/10.1038/sdata.2017.53

  # TODO: Add Lester et al 2004
  # TODO: Add ones referenced in https://github.com/USGS-R/necsc-lake-modeling/blob/d37377ea422b9be324e8bd203fc6eecc36966401/data/habitat_metrics_table_GH.csv
  #   - Wismer and Christie 1987
  #   - Busch et al. 1975
  #   - Madenijan et al. 1996

process-date: !expr format(Sys.time(),'%Y%m%d')
file-format: >-
  two comma-delimited files and 26 compressed zip files

entities:
  -
    data-name: {model}_toha_{group_id}_N{minN-maxN}_W{minW-maxW}.zip
    data-description: >-
      A zip file containing a csv file for every lake within {group_id} with thermal optical habitat metrics using
      predictions from the {model} predictions. Files within the zip are named "{model}_toha_{site_id}.csv". {model} is
      either "pb0" for the uncalibrated Process-Based model outputs or "pgdl" for the Process-Guided Deep Learning model
      outputs.
    attributes:
    -
      attr-label: site_id
      attr-def: >-
        Lake identification number for this dataset. Is the Prmnn_I from NHD high-res prefixed with source, as "nhdhr_{Prmnn_I}"
      attr-defs: >-
        http://nhd.usgs.gov/
      data-min: NA
      data-max: NA
      data-units: NA
    -
      attr-label: date
      attr-def: Date of the temperature predictions
      attr-defs: This data release
      data-min: 1979-12-01
      data-max: 2018-12-31
      data-units: NA
    -
      attr-label: opti_hab
      attr-def: >-
        Daily optimal optical habitat area of benthos	for walleye; area of lake bottom where light intensity
        is between 0.0762 W/m^2 and 0.6476 W/m^2.
      attr-defs: Lester et al 2004
      data-min: NA
      data-max: NA
      data-units: m^2
    -
      attr-label: therm_hab
      attr-def: >-
        Daily optimal thermal habitat area of benthos	for walleye; area of lake bottom where temperature
        falls between 11 deg C and 25 deg C.
      attr-defs: Lester et al 2004
      data-min: 0
      data-max: NA
      data-units: m^2
    -
      attr-label: opti_therm_hab
      attr-def: >-
        Combined daily optimal thermal and optical habitat area of benthos for walleye; area of lake bottom where both
        light intensity is between 0.0762 W/m^2 and 0.6476 W/m^2 AND temperature falls between 11 deg C and 25 deg C.
      attr-defs: Lester et al 2004
      data-min: 0
      data-max: NA
      data-units: m^2
    # TODO: technically also have Z1 & Z2 for both opti and therm hab, but I am trying to remember - I think we were
    # going to remove those for what we pushed to SB?
  -
    data-name: annual_metrics_{model}.csv
    data-description: >-
      A csv file containing annual summaries of thermal metrics based on modeled temperatures. {model} is either "pb0"
      for the uncalibrated Process-Based model outputs or "pgdl" for the Process-Guided Deep Learning model outputs.
    attributes:
     -
      attr-label: site_id
      attr-def: >-
        Lake identification number for this dataset. Is the Prmnn_I from NHD high-res prefixed with source, as "nhdhr_{Prmnn_I}"
      attr-defs: >-
        http://nhd.usgs.gov/
      data-min: NA
      data-max: NA
      data-units: NA
    -
      attr-label: year
      attr-def: Year of the summarized temperature predictions
      attr-defs: This data release
      data-min: 1980
      data-max: 2018
      data-units: NA
    -
      attr-label: peak_temp
      attr-def: Maximum observed surface temperature
      attr-defs: Winslow et al 2017
      data-min: NA
      data-max: NA
      data-units: degrees C
    -
      attr-label: peak_temp_dt
      attr-def: Date of maximum observed surface temperature
      attr-defs: This data release
      data-min: NA
      data-max: NA
      data-units: NA
    -
      attr-label: ice_on_date
      attr-def: Date of ice-on
      attr-defs: This data release
      data-min: NA
      data-max: NA
      data-units: NA
    -
      attr-label: ice_off_date
      attr-def: Date of ice-off
      attr-defs: This data release
      data-min: NA
      data-max: NA
      data-units: NA
    -
      attr-label: winter_dur_0_4
      attr-def: >-
        Number of days, beginning October 30 of the previous year and running through June
        of the given year, that surface water is <4 degrees C
      attr-defs: Winslow et al 2017
      data-min: NA
      data-max: NA
      data-units: days
    -
      attr-label: coef_var_31_60
      attr-def: Coefficient of Variation of surface temperature from 30-60 days post ice off
      attr-defs: >-
        This calculation is the same as Winslow et al 2017, but that one wasn't named
        intuitively (`coef_var_30_60` instead of `coef_var_31_60`)
      data-min: NA
      data-max: NA
      data-units: unitless (CV)
    -
      attr-label: coef_var_1_30
      attr-def: Coefficient of Variation of surface temperature up to 30 days post ice-off
      attr-defs: >-
        This calculation is the same as Winslow et al 2017, but that one wasn't named
        intuitively (`coef_var_0_30` instead of `coef_var_1_30`)
      data-min: NA
      data-max: NA
      data-units: unitless (CV)
    -
      attr-label: stratification_onset_yday
      attr-def: Julian date at which stratification sets up (longest stratified period)
      attr-defs: Winslow et al 2017
      data-min: NA
      data-max: NA
      data-units: Julian day
    -
      attr-label: stratification_duration
      attr-def: Duration of stratified period
      attr-defs: Winslow et al 2017
      data-min: NA
      data-max: NA
      data-units: days
    -
      attr-label: sthermo_depth_mean
      attr-def: Average thermocline depth in stratified period that is >= 30 days
      attr-defs: >-
        This calculation is similar to the one from Winslow et al 2017, except that it
        uses the longest duration of stratified days as the stratified period and will
        return NA for any stratified period less than 30 days.
      data-min: NA
      data-max: NA
      data-units: depth (m)
    -
      attr-label: bottom_temp_at_strat
      attr-def: >-
        Water temperature 0.1m from lake bottom on day of stratification (as defined
        by "stratification_onset_yday")
      attr-defs: >-
        This calculation is similar to the one from Winslow et al 2017, except that it
        will return NA for any stratified period less than 30 days.
      data-min: NA
      data-max: NA
      data-units: degrees C
    -
      attr-label: gdd_wtr_{temp}c
      attr-def: >-
        Cumulative sum of degrees greater than {temp} for an entire
        year. {temp} is one of 0, 5, 10.
      attr-defs: Winslow et al 2017
      data-min: NA
      data-max: NA
      data-units: degrees C * days
    -
      attr-label: schmidt_daily_annual_sum
      attr-def: Sum of daily Schmidt Stability values for calendar year.
      attr-defs: Winslow et al 2017
      data-min: NA
      data-max: NA
      data-units: J/m^2 * days
    -
      attr-label: mean_{depth}_JulAugSep
      attr-def: >-
        Mean summer (July, August, September) temperature at {depth}. {depth} is
        either "surf" for surface or "bot" for bottom.
      attr-defs: Winslow et al 2017
      data-min: NA
      data-max: NA
      data-units: degrees C
    -
      attr-label: max_{depth}_JulAugSep
      attr-def: >-
        Maximum summer (July, August, September) temperature at {depth}. {depth} is
        either "surf" for surface or "bot" for bottom.
      attr-defs: Winslow et al 2017
      data-min: NA
      data-max: NA
      data-units: degrees C
    -
      attr-label: mean_{depth}_{month}
      attr-def: >-
        Mean temperature at {depth} for {month}. {depth} is either "surf" for
        surface or "bot" for bottom. {month} is the 3 letter abbreviation for one
        of the 12 months, Jan through Dec.
      attr-defs: Winslow et al 2017
      data-min: NA
      data-max: NA
      data-units: degrees C
    -
      attr-label: max_{depth}_{month}
      attr-def: >-
        Maximum temperature at {depth} for {month}. {depth} is either "surf" for
        surface or "bot" for bottom. {month} is the 3 letter abbreviation for one
        of the 12 months, Jan (January) through Dec (December).
      attr-defs: Winslow et al 2017
      data-min: NA
      data-max: NA
      data-units: degrees C
  # -- Need to return and break out these height, vol, days definitions per temp range -- #
    -
      attr-label: height_{temp_low}_{temp_high}
      attr-def: Meters of water between {temp_low} and {temp_high} degrees C
      attr-defs: NA
      data-min: NA
      data-max: NA
      data-units: linear distance (m)
    -
      attr-label: vol_{temp_low}_{temp_high}
      attr-def: Volume of water between {temp_low} and {temp_high} degrees C
      attr-defs: NA
      data-min: NA
      data-max: NA
      data-units: volume (m^3*1000)
    -
      attr-label: days_{temp_low}_{temp_high}
      attr-def: >-
        Days in which there is any part of water column between {temp_low} and
        {temp_high} degrees C
      attr-defs: NA
      data-min: NA
      data-max: NA
      data-units: days
  # -- -- #
    -
      attr-label: spring_days_in_10.5_15.5
      attr-def: >-
        Duration of optimal incubation period where surface temperature
        is between 10.5-15.5 degrees C (Spring only)
      attr-defs: Wismer and Christie 1987
      data-min: NA
      data-max: NA
      data-units: days before June 1
    -
      attr-label: post_ice_warm_rate
      attr-def: >-
        Average change in surface temp (degrees C per day) 30 days post ice off
      attr-defs: Busch et al. 1975; Madenijan et al. 1996
      data-min: NA
      data-max: NA
      data-units: degrees C per day
    -
      attr-label: date_over_{temp}
      attr-def: >-
        Date where average surface temperature reaches {temp} degrees C. {temp} is
        one of 8.9 (date of spawning temp), 16.7 (hatch date), 18 (date of spawning
        temp for bass), or 21 (date of spawning temp for bass).
      attr-defs: Wismer and Christie 1987
      data-min: NA
      data-max: NA
      data-units: Julian day
    -
      attr-label: SmetaTopD_mean
      attr-def: Mean epilmnion meters during the longest stratified period
      attr-defs: ????
      data-min: NA
      data-max: NA
      data-units: linear distance (m)
    -
      attr-label: SmetaBotD_mean
      attr-def: Mean hypolimnion meters during the longest stratified period
      attr-defs: ????
      data-min: NA
      data-max: NA
      data-units: linear distance (m)
    -
      attr-label: mean_epi_vol
      attr-def: Mean epilmnion volume during longest stratified period
      attr-defs: ????
      data-min: NA
      data-max: NA
      data-units: volume (m^3*1000)
    -
      attr-label: mean_hyp_vol
      attr-def: Mean hypolimnion volume during longest stratified period
      attr-defs: ????
      data-min: NA
      data-max: NA
      data-units: volume (m^3*1000)
    -
      attr-label: mean_epi_hypo_ratio
      attr-def: Mean epilmnion volume divided by mean hypolimnion volume
      attr-defs: ????
      data-min: NA
      data-max: NA
      data-units: unitless (ratio)
    -
      attr-label: open_water_duration
      attr-def: Number of between ice-on and ice-off.
      attr-defs: ????
      data-min: NA
      data-max: NA
      data-units: days

purpose: Fisheries biology, limnological research, and climate science.
start-date: 19800401
end-date: 20191231

update: none planned
themekeywords: ["machine learning", "deep learning", "hybrid modeling", "water","temperature", "temperate lakes","reservoirs","modeling","climate change","thermal profiles"]

usage-rules: >-
  These data are open access usable via creative commons as long as original data providers are acknowledged
descgeog: "Lake polygons as defined by the national hydrography dataset high resolution"
data-publisher: U.S. Geological Survey
indirect-spatial: U.S.A.
latitude-res: 0.00001
longitude-res: 0.00001

# ----contacts----
contact-person: Jordan S. Read
contact-phone: 608-821-3922
contact-email: jread@usgs.gov
contact-position: Research Civil Engineer
contact-address: "8505 Research Way"
contact-city: Middleton
contact-state: WI
contact-zip: 53562

metadata-person: Jordan S. Read
metadata-position: Research Civil Engineer
metadata-phone: 608-821-3921
metadata-fax: 608-821-3817
metadata-email: jread@usgs.gov
metadata-address: "8505 Research Way"
metadata-city: Middleton
metadata-state: WI
metadata-zip: 53562
metadata-date: !expr format(Sys.time(),'%Y%m%d')

accur-test: No formal attribute accuracy tests were conducted.
funding-credits: >-
  This study was funded by the [DETAILS HERE]
  This research used resources of the Core Science Analytics and Synthesis Advanced Research Computing program at the U.S. Geological Survey.
process-description: >-
  [A description of processing]
distro-person: Jordan S. Read
liability-statement: >-
  Unless otherwise stated, all data, metadata and related materials are considered to satisfy the quality standards relative to the purpose for which the data were collected.
  Although these data and associated metadata have been reviewed for accuracy and completeness and approved for release by the U.S. Geological Survey (USGS),
  no warranty expressed or implied is made regarding the display or utility of the data on any other system or for general or scientific purposes, nor shall
  the act of distribution constitute any such warranty.
